# üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞ - Telegram Slot Bot

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
cd telegram_slot_bot
source venv/bin/activate  # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows
python bot.py
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞
```bash
Ctrl + C  # –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç
```

---

## üéÆ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
```
/start          - –ù–∞—á–∞—Ç—å
/spin           - –ö—Ä—É—Ç–∏—Ç—å —Å–ª–æ—Ç (35 ‚≠êÔ∏è)
/balance        - –ë–∞–ª–∞–Ω—Å
/stats          - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
/achievements   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
/top            - –¢–æ–ø-10 –∏–≥—Ä–æ–∫–æ–≤
/buy            - –ö—É–ø–∏—Ç—å –∑–≤—ë–∑–¥—ã
/help           - –°–ø—Ä–∞–≤–∫–∞
```

### –ê–¥–º–∏–Ω –∫–æ–º–∞–Ω–¥—ã
```
/adminstats                      - –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
/ban <user_id> [–ø—Ä–∏—á–∏–Ω–∞]        - –ó–∞–±–∞–Ω–∏—Ç—å
/unban <user_id>                - –†–∞–∑–±–∞–Ω–∏—Ç—å
/givestars <user_id> <amount>   - –í—ã–¥–∞—Ç—å –∑–≤—ë–∑–¥—ã
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env

```env
TELEGRAM_BOT_TOKEN=...      # –¢–æ–∫–µ–Ω –æ—Ç @BotFather
DATABASE_URL=postgresql://... # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
SPIN_COST=35                # –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–ø–∏–Ω–∞
INITIAL_BALANCE=1000        # –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
ADMIN_IDS=123456789         # ID –∞–¥–º–∏–Ω–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
STARS_CONVERSION_RATE=10    # 1 Telegram Star = 10 –∏–≥—Ä–æ–≤—ã—Ö –∑–≤—ë–∑–¥
```

---

## üí∞ –¢–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```
üçíüçíüçí  =  100 ‚≠êÔ∏è  (dice_value: 1)
üçãüçãüçã  =  200 ‚≠êÔ∏è  (dice_value: 22)
üçáüçáüçá  =  350 ‚≠êÔ∏è  (dice_value: 43)
7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£  =  500 ‚≠êÔ∏è  (dice_value: 64)
```

**–ò–∑–º–µ–Ω–∏—Ç—å:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `PAYOUTS` –≤ `game_logic.py`

---

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (16 —à—Ç—É–∫)

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –£—Å–ª–æ–≤–∏–µ | –ù–∞–≥—Ä–∞–¥–∞ |
|-----|----------|---------|---------|
| first_spin | üé∞ –ü–µ—Ä–≤—ã–π —Å–ø–∏–Ω | 1 —Å–ø–∏–Ω | 50 ‚≠êÔ∏è |
| beginner | üåü –ù–æ–≤–∏—á–æ–∫ | 10 —Å–ø–∏–Ω–æ–≤ | 100 ‚≠êÔ∏è |
| experienced | ‚≠ê –û–ø—ã—Ç–Ω—ã–π | 100 —Å–ø–∏–Ω–æ–≤ | 500 ‚≠êÔ∏è |
| veteran | üí´ –í–µ—Ç–µ—Ä–∞–Ω | 1000 —Å–ø–∏–Ω–æ–≤ | 2000 ‚≠êÔ∏è |
| first_win | üéâ –ü–µ—Ä–≤–∞—è –ø–æ–±–µ–¥–∞ | 1 –≤—ã–∏–≥—Ä—ã—à | 100 ‚≠êÔ∏è |
| lucky_10 | üçÄ –í–µ–∑—É–Ω—á–∏–∫ | 10 –≤—ã–∏–≥—Ä—ã—à–µ–π | 300 ‚≠êÔ∏è |
| lucky_100 | üéä –°—á–∞—Å—Ç–ª–∏–≤—á–∏–∫ | 100 –≤—ã–∏–≥—Ä—ã—à–µ–π | 1000 ‚≠êÔ∏è |
| jackpot | üíé –î–∂–µ–∫–ø–æ—Ç | 7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£ | 500 ‚≠êÔ∏è |
| big_win | üî• –ë–æ–ª—å—à–æ–π –∫—É—à | 500+ –∑–∞ —Å–ø–∏–Ω | 500 ‚≠êÔ∏è |
| big_spender | üí∏ –©–µ–¥—Ä—ã–π | 10,000 –ø–æ—Ç—Ä–∞—á–µ–Ω–æ | 1000 ‚≠êÔ∏è |
| mega_spender | üí∞ –ú–∞–≥–Ω–∞—Ç | 100,000 –ø–æ—Ç—Ä–∞—á–µ–Ω–æ | 5000 ‚≠êÔ∏è |
| rich | ü§ë –ë–æ–≥–∞—á | 10,000 –±–∞–ª–∞–Ω—Å | 1000 ‚≠êÔ∏è |
| millionaire | üëë –ú–∏–ª–ª–∏–æ–Ω–µ—Ä | 100,000 –±–∞–ª–∞–Ω—Å | 10000 ‚≠êÔ∏è |
| dedicated | üìÖ –ü—Ä–µ–¥–∞–Ω–Ω—ã–π | 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ | 700 ‚≠êÔ∏è |
| achievement_hunter | üèÜ –û—Ö–æ—Ç–Ω–∏–∫ | 5 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π | 500 ‚≠êÔ∏è |
| collector | üìö –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä | –í—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è | 5000 ‚≠êÔ∏è |

---

## üíé –ü–∞–∫–µ—Ç—ã Telegram Stars

| –ò–≥—Ä–æ–≤—ã–µ –∑–≤—ë–∑–¥—ã | Telegram Stars |
|----------------|----------------|
| 100 ‚≠êÔ∏è | 10 Stars |
| 500 ‚≠êÔ∏è | 50 Stars |
| 1000 ‚≠êÔ∏è | 100 Stars |
| 5000 ‚≠êÔ∏è | 500 Stars |
| 10000 ‚≠êÔ∏è | 1000 Stars |

**–ò–∑–º–µ–Ω–∏—Ç—å:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `packages` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `buy_callback()` –≤ `bot.py`

---

## üóÑÔ∏è PostgreSQL –∫–æ–º–∞–Ω–¥—ã

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```bash
psql -U slot_bot_user -d slot_bot_db
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) FROM users;

-- –¢–æ–ø-10 –ø–æ –±–∞–ª–∞–Ω—Å—É
SELECT username, balance FROM users ORDER BY balance DESC LIMIT 10;

-- –í—Å–µ–≥–æ —Å–ø–∏–Ω–æ–≤ —Å–µ–≥–æ–¥–Ω—è
SELECT COUNT(*) FROM transactions
WHERE transaction_type = 'spin'
AND DATE(timestamp) = CURRENT_DATE;

-- RTP –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è
SELECT
  (SUM(CASE WHEN transaction_type = 'win' THEN amount ELSE 0 END) * 100.0 /
   SUM(CASE WHEN transaction_type = 'spin' THEN ABS(amount) ELSE 0 END)) as rtp
FROM transactions;
```

### –ë—ç–∫–∞–ø –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –ë—ç–∫–∞–ø
pg_dump -U slot_bot_user slot_bot_db > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
psql -U slot_bot_user slot_bot_db < backup.sql
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Dice API

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–µ—Ä
python dice_tester.py

# –í –±–æ—Ç–µ:
/test 100           # –°–¥–µ–ª–∞—Ç—å 100 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ø–∏–Ω–æ–≤
/analyze            # –ê–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
/export             # –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
/resetstats confirm # –°–±—Ä–æ—Å
```

**–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã `/analyze`
2. –û–±–Ω–æ–≤–∏—Ç–µ `DICE_TO_COMBO` –≤ `game_logic.py`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É

# –ï—Å–ª–∏ —á–µ—Ä–µ–∑ systemd:
sudo journalctl -u slot-bot -f

# –ï—Å–ª–∏ —á–µ—Ä–µ–∑ Docker:
docker-compose logs -f bot
```

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

**"Database connection error"**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PostgreSQL
sudo systemctl status postgresql  # Linux
pg_ctl status  # Windows/Mac

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env
cat .env | grep DATABASE_URL
```

**"Unauthorized"**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
cat .env | grep TELEGRAM_BOT_TOKEN

# –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —É @BotFather
```

**"Module not found"**
```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –±–æ—Ç–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep bot.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql -U slot_bot_user -d slot_bot_db -c "SELECT 1"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
tail -n 100 bot.log | grep ERROR
```

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (24—á)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∏–Ω–æ–≤ –≤ –¥–µ–Ω—å
- RTP (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–∫–æ–ª–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫—É–ø–æ–∫
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –ø–ª–∞—Ç—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üöÄ –î–µ–ø–ª–æ–π —á–µ–∫–ª–∏—Å—Ç

- [ ] PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
- [ ] `.env` —Ñ–∞–π–ª –∑–∞–ø–æ–ª–Ω–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ë–æ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –¢–æ–∫–µ–Ω –æ—Ç BotFather –ø–æ–ª—É—á–µ–Ω
- [ ] Admin ID –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] Telegram Stars –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- [ ] –ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Systemd service —Å–æ–∑–¥–∞–Ω (–¥–ª—è VPS)
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- ‚úÖ `.env` –≤ `.gitignore`
- ‚úÖ –°–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

### –ù–ï –¥–µ–ª–∞—Ç—å:
- ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å `.env` –≤ git
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏
- ‚ùå –î–∞–≤–∞—Ç—å admin –ø—Ä–∞–≤–∞ –≤—Å–µ–º
- ‚ùå –ó–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
telegram_slot_bot/
‚îú‚îÄ‚îÄ bot.py                  # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ models.py               # –ú–æ–¥–µ–ª–∏ –ë–î
‚îú‚îÄ‚îÄ database.py             # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ game_logic.py           # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ achievements.py         # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ dice_tester.py          # –¢–µ—Å—Ç–µ—Ä
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
‚îú‚îÄ‚îÄ .gitignore              # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ README.md               # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICKSTART.md           # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ CHEATSHEET.md           # –≠—Ç–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [@BotFather](https://t.me/BotFather) - –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
- [@userinfobot](https://t.me/userinfobot) - –£–∑–Ω–∞—Ç—å —Å–≤–æ–π ID
- [Telegram Bot API](https://core.telegram.org/bots/api) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [python-telegram-bot](https://docs.python-telegram-bot.org/) - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
- [PostgreSQL Docs](https://www.postgresql.org/docs/) - PostgreSQL

---

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —à–ø–∞—Ä–≥–∞–ª–∫—É! –û–Ω–∞ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è! üìå**
