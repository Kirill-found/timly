"""
–ó–∞–ø—É—Å–∫ –†–ï–ê–õ–¨–ù–û–ì–û UserBot –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–≤—ë–∑–¥
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
"""

import asyncio
import os
from pyrogram import Client
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
if os.path.exists('.env.real'):
    load_dotenv('.env.real')
else:
    load_dotenv()

print("\n" + "="*60)
print("    –ù–ê–°–¢–†–û–ô–ö–ê USERBOT –î–õ–Ø –û–¢–ü–†–ê–í–ö–ò –ó–í–Å–ó–î")
print("="*60)

# –í–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ API –¥–∞–Ω–Ω—ã–µ
API_ID = 28668805
API_HASH = "5bd18c34314bf74adfd2066dcc21b2bb"

# –ü–æ–ª—É—á–∞–µ–º –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
phone = input("\nüì± –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—Å –∫–æ–¥–æ–º —Å—Ç—Ä–∞–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä +79991234567): ")

if not phone.startswith("+"):
    phone = "+" + phone

print(f"\n–ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–º–µ—Ä: {phone}")
print("\n‚ö†Ô∏è  –í–ê–ñ–ù–û:")
print("1. –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ –≤–∞–º –ø—Ä–∏–¥—ë—Ç –∫–æ–¥ –≤ Telegram")
print("2. –í–≤–µ–¥–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –∑–¥–µ—Å—å")
print("3. –ï—Å–ª–∏ —É –≤–∞—Å –≤–∫–ª—é—á–µ–Ω–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å")
print("\n–ù–∞—á–∏–Ω–∞–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é...\n")

async def main():
    # –°–æ–∑–¥–∞—ë–º –∫–ª–∏–µ–Ω—Ç Pyrogram
    app = Client(
        "my_stars_userbot",
        api_id=API_ID,
        api_hash=API_HASH,
        phone_number=phone
    )

    try:
        # –ó–∞–ø—É—Å–∫–∞–µ–º –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–µ–º—Å—è
        await app.start()

        me = await app.get_me()
        print(f"\n‚úÖ –£–°–ü–ï–®–ù–û –ê–í–¢–û–†–ò–ó–û–í–ê–ù–´!")
        print(f"–ò–º—è: {me.first_name}")
        print(f"Username: @{me.username}" if me.username else "Username –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
        print(f"ID: {me.id}")

        # –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∫ ADMIN_ID
        admin_id = me.id

        # –°–æ–∑–¥–∞—ë–º –∏—Ç–æ–≥–æ–≤—ã–π .env —Ñ–∞–π–ª
        env_content = f"""# –ù–ê–°–¢–†–û–ô–ö–ò USERBOT –î–õ–Ø –û–¢–ü–†–ê–í–ö–ò –ó–í–Å–ó–î

# Telegram API
API_ID={API_ID}
API_HASH={API_HASH}

# UserBot –∞–∫–∫–∞—É–Ω—Ç
PHONE_NUMBER={phone}
SESSION_NAME=my_stars_userbot

# –ê–¥–º–∏–Ω –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
ADMIN_ID={admin_id}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–ø–ª–∞—Ç
AUTO_PAYMENT_ENABLED=false
MAX_AUTO_PAYMENT=500
PAYMENT_DELAY=3

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=sqlite:///slot_bot.db

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
MAX_DAILY_PAYOUTS=50
ANTI_SPAM_DELAY=60
"""

        with open('.env', 'w', encoding='utf-8') as f:
            f.write(env_content)

        print("\n‚úÖ –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏!")

        # –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∞–º–æ–º—É —Å–µ–±–µ
        await app.send_message("me", "‚úÖ UserBot –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–≤—ë–∑–¥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!")
        print("\nüì® –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ")

        print("\n" + "="*60)
        print("    –ù–ê–°–¢–†–û–ô–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!")
        print("="*60)
        print("\nüéØ –ß—Ç–æ –¥–∞–ª—å—à–µ:")
        print("1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)")
        print("2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ .env —Ñ–∞–π–ª")
        print("3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: python userbot_practical.py")
        print("\nüí° –í–∞—à UserBot –≥–æ—Ç–æ–≤ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–≤—ë–∑–¥!")

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–≤—ë–∑–¥
        print("\nüìå –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:")
        print("–ö–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –≤—ã–∏–≥—Ä–∞–µ—Ç, –≤–∞–º –ø—Ä–∏–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:")
        print("'–¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–ª–∞—Ç–∞ 300 –∑–≤—ë–∑–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é @username'")
        print("–í—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —á–∞—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∑–≤—ë–∑–¥—ã –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ –≤ –±–æ—Ç–µ.")

    except Exception as e:
        print(f"\n‚ùå –û—à–∏–±–∫–∞: {e}")
        print("\n–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:")
        print("1. –ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞")
        print("2. –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è")
        print("3. –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º")
        print("\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.")

    finally:
        await app.stop()

if __name__ == "__main__":
    print("\n–ó–∞–ø—É—Å–∫...")
    asyncio.run(main())